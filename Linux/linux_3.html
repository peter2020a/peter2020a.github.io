<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>centos7部署FastDFS | 流浪地球</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.ico">
    <meta name="description" content="纵然出走时未曾想要流浪半生，归来时早已发现少年不再">
    
    <link rel="preload" href="/assets/css/0.styles.7b36eabc.css" as="style"><link rel="preload" href="/assets/js/app.2cd84a3f.js" as="script"><link rel="preload" href="/assets/js/2.63c13255.js" as="script"><link rel="preload" href="/assets/js/35.56b8ae56.js" as="script"><link rel="prefetch" href="/assets/js/10.79ce38a9.js"><link rel="prefetch" href="/assets/js/11.b1d01830.js"><link rel="prefetch" href="/assets/js/12.8736c32f.js"><link rel="prefetch" href="/assets/js/13.ebee3709.js"><link rel="prefetch" href="/assets/js/14.2b0d4a27.js"><link rel="prefetch" href="/assets/js/15.e1d296a3.js"><link rel="prefetch" href="/assets/js/16.380d3c5e.js"><link rel="prefetch" href="/assets/js/17.746ecd1f.js"><link rel="prefetch" href="/assets/js/18.753f8f5a.js"><link rel="prefetch" href="/assets/js/19.9e16d87a.js"><link rel="prefetch" href="/assets/js/20.54b076df.js"><link rel="prefetch" href="/assets/js/21.11dd81d7.js"><link rel="prefetch" href="/assets/js/22.29cdb2fb.js"><link rel="prefetch" href="/assets/js/23.fd2fe5c2.js"><link rel="prefetch" href="/assets/js/24.ca7d6a70.js"><link rel="prefetch" href="/assets/js/25.0564d66c.js"><link rel="prefetch" href="/assets/js/26.ad480a02.js"><link rel="prefetch" href="/assets/js/27.4c43d411.js"><link rel="prefetch" href="/assets/js/28.e66385b0.js"><link rel="prefetch" href="/assets/js/29.ae4baeca.js"><link rel="prefetch" href="/assets/js/3.55d44e04.js"><link rel="prefetch" href="/assets/js/30.ba670f02.js"><link rel="prefetch" href="/assets/js/31.f3f42409.js"><link rel="prefetch" href="/assets/js/32.5d600afc.js"><link rel="prefetch" href="/assets/js/33.40a2a336.js"><link rel="prefetch" href="/assets/js/34.2a621ea3.js"><link rel="prefetch" href="/assets/js/36.9e35ae04.js"><link rel="prefetch" href="/assets/js/37.78bb6a4a.js"><link rel="prefetch" href="/assets/js/38.4955006a.js"><link rel="prefetch" href="/assets/js/39.9ae6e79e.js"><link rel="prefetch" href="/assets/js/4.13c31685.js"><link rel="prefetch" href="/assets/js/40.b516ee81.js"><link rel="prefetch" href="/assets/js/41.6d6a113f.js"><link rel="prefetch" href="/assets/js/42.3b5d7847.js"><link rel="prefetch" href="/assets/js/43.41821ddc.js"><link rel="prefetch" href="/assets/js/44.bb04bcbc.js"><link rel="prefetch" href="/assets/js/45.46e8e459.js"><link rel="prefetch" href="/assets/js/46.9de03981.js"><link rel="prefetch" href="/assets/js/47.aea7ab35.js"><link rel="prefetch" href="/assets/js/48.adb143bb.js"><link rel="prefetch" href="/assets/js/49.fd27f7d0.js"><link rel="prefetch" href="/assets/js/5.69487806.js"><link rel="prefetch" href="/assets/js/6.8d81f0ec.js"><link rel="prefetch" href="/assets/js/7.3bd43f9a.js"><link rel="prefetch" href="/assets/js/8.f6a07905.js"><link rel="prefetch" href="/assets/js/9.36b4852e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7b36eabc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">流浪地球</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java/java_1.html" class="nav-link">
  jobHandler调度管理
</a></li><li class="dropdown-item"><!----> <a href="/Java/java_2.html" class="nav-link">
  jProtobuf尝鲜
</a></li><li class="dropdown-item"><!----> <a href="/SpringBoot/springboot_1.html" class="nav-link">
  使用Docker部署Spring Boot
</a></li><li class="dropdown-item"><!----> <a href="/SpringCloud/springcloud_1.html" class="nav-link">
  springcloud(一)：初识Spring Cloud
</a></li><li class="dropdown-item"><!----> <a href="/SpringCloud/springcloud_2.html" class="nav-link">
  springcloud(二)：注册中心Eureka
</a></li><li class="dropdown-item"><!----> <a href="/Java/java_3.html" class="nav-link">
  java8 toMap问题(key重复如何解决)
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="大数据" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/BigData/bigdata_1.html" class="nav-link">
  使用Docker搭建Hadoop集群(伪分布式与完全分布式)
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="区块链" class="dropdown-title"><span class="title">区块链</span> <span class="arrow down"></span></button> <button type="button" aria-label="区块链" class="mobile-dropdown-title"><span class="title">区块链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/BlockChain/block_1.html" class="nav-link">
  1、Java实现简单区块链
</a></li><li class="dropdown-item"><!----> <a href="/BlockChain/block_2.html" class="nav-link">
  2、Java实现可交易钱包
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Go" class="dropdown-title"><span class="title">Go</span> <span class="arrow down"></span></button> <button type="button" aria-label="Go" class="mobile-dropdown-title"><span class="title">Go</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Go/go_1.html" class="nav-link">
  go的基本命令详解
</a></li><li class="dropdown-item"><!----> <a href="/Go/go_2.html" class="nav-link">
  gin框架使用案例
</a></li><li class="dropdown-item"><!----> <a href="/Go/go_3.html" class="nav-link">
  gorm基本使用
</a></li><li class="dropdown-item"><!----> <a href="/Go/go_4.html" class="nav-link">
  Golang操作Redis
</a></li><li class="dropdown-item"><!----> <a href="/Go/go_5.html" class="nav-link">
  golang实现tcp通信
</a></li><li class="dropdown-item"><!----> <a href="/Go/go_6.html" class="nav-link">
  Golang使用Protobuf 
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><span class="title">Linux</span> <span class="arrow down"></span></button> <button type="button" aria-label="Linux" class="mobile-dropdown-title"><span class="title">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Linux/linux_1.html" class="nav-link">
  虚拟机3种网络模式
</a></li><li class="dropdown-item"><!----> <a href="/Linux/linux_2.html" class="nav-link">
  linux常用命令总结
</a></li><li class="dropdown-item"><!----> <a href="/Linux/linux_3.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  centos7部署FastDFS
</a></li><li class="dropdown-item"><!----> <a href="/Linux/linux_4.html" class="nav-link">
  centos7中根据文件大小排序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Docker" class="dropdown-title"><span class="title">Docker</span> <span class="arrow down"></span></button> <button type="button" aria-label="Docker" class="mobile-dropdown-title"><span class="title">Docker</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Docker/docker_1.html" class="nav-link">
  Docker(一)：Docker入门教程
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_2.html" class="nav-link">
  Docker(二)：Dockerfile使用介绍
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_3.html" class="nav-link">
  Docker(三)：Dockerfile命令详解
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_4.html" class="nav-link">
  Docker(四)：Docker三剑客之Docker Compose
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_5.html" class="nav-link">
  Docker(五)：Docker三剑客之Docker Machine
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_6.html" class="nav-link">
  Docker(六)：Docker三剑客之Docker Swarm
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_7.html" class="nav-link">
  Docker安装MariaDB
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_9.html" class="nav-link">
  Docker安装Mysql8
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_8.html" class="nav-link">
  Docker安装Redis
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_10.html" class="nav-link">
  Docker安装Nacos
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="K8s" class="dropdown-title"><span class="title">K8s</span> <span class="arrow down"></span></button> <button type="button" aria-label="K8s" class="mobile-dropdown-title"><span class="title">K8s</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/K8s/k8s_1.html" class="nav-link">
  VirtualBox + centos7部署k8s
</a></li><li class="dropdown-item"><!----> <a href="/K8s/k8s_2.html" class="nav-link">
  kubectl常用命令
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Nginx" class="dropdown-title"><span class="title">Nginx</span> <span class="arrow down"></span></button> <button type="button" aria-label="Nginx" class="mobile-dropdown-title"><span class="title">Nginx</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/OpenResty/nginx.html" class="nav-link">
  Nginx 配置详解
</a></li><li class="dropdown-item"><!----> <a href="/OpenResty/nginx_2.html" class="nav-link">
  Nginx 常用命令
</a></li><li class="dropdown-item"><!----> <a href="/OpenResty/openresty_1.html" class="nav-link">
  OpenResty 使用介绍
</a></li><li class="dropdown-item"><!----> <a href="/OpenResty/openresty_2.html" class="nav-link">
  OpenResty(Nginx+Lua)测试用例
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Jenkins" class="dropdown-title"><span class="title">Jenkins</span> <span class="arrow down"></span></button> <button type="button" aria-label="Jenkins" class="mobile-dropdown-title"><span class="title">Jenkins</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Jenkins/jenkins_1.html" class="nav-link">
  快速安装Jenkins完美教程
</a></li><li class="dropdown-item"><!----> <a href="/Jenkins/jenkins_2.html" class="nav-link">
  Docker jenkins配置NPM
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><span class="title">其它</span> <span class="arrow down"></span></button> <button type="button" aria-label="其它" class="mobile-dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Other/2019.1.2.html" class="nav-link">
  Vuepress搭建静态博客
</a></li><li class="dropdown-item"><!----> <a href="/Other/markdown.html" class="nav-link">
  Markdown基本语法
</a></li></ul></div></div><div class="nav-item"><a href="/Readme/index.html" class="nav-link">
  关于我
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java/java_1.html" class="nav-link">
  jobHandler调度管理
</a></li><li class="dropdown-item"><!----> <a href="/Java/java_2.html" class="nav-link">
  jProtobuf尝鲜
</a></li><li class="dropdown-item"><!----> <a href="/SpringBoot/springboot_1.html" class="nav-link">
  使用Docker部署Spring Boot
</a></li><li class="dropdown-item"><!----> <a href="/SpringCloud/springcloud_1.html" class="nav-link">
  springcloud(一)：初识Spring Cloud
</a></li><li class="dropdown-item"><!----> <a href="/SpringCloud/springcloud_2.html" class="nav-link">
  springcloud(二)：注册中心Eureka
</a></li><li class="dropdown-item"><!----> <a href="/Java/java_3.html" class="nav-link">
  java8 toMap问题(key重复如何解决)
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="大数据" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/BigData/bigdata_1.html" class="nav-link">
  使用Docker搭建Hadoop集群(伪分布式与完全分布式)
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="区块链" class="dropdown-title"><span class="title">区块链</span> <span class="arrow down"></span></button> <button type="button" aria-label="区块链" class="mobile-dropdown-title"><span class="title">区块链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/BlockChain/block_1.html" class="nav-link">
  1、Java实现简单区块链
</a></li><li class="dropdown-item"><!----> <a href="/BlockChain/block_2.html" class="nav-link">
  2、Java实现可交易钱包
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Go" class="dropdown-title"><span class="title">Go</span> <span class="arrow down"></span></button> <button type="button" aria-label="Go" class="mobile-dropdown-title"><span class="title">Go</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Go/go_1.html" class="nav-link">
  go的基本命令详解
</a></li><li class="dropdown-item"><!----> <a href="/Go/go_2.html" class="nav-link">
  gin框架使用案例
</a></li><li class="dropdown-item"><!----> <a href="/Go/go_3.html" class="nav-link">
  gorm基本使用
</a></li><li class="dropdown-item"><!----> <a href="/Go/go_4.html" class="nav-link">
  Golang操作Redis
</a></li><li class="dropdown-item"><!----> <a href="/Go/go_5.html" class="nav-link">
  golang实现tcp通信
</a></li><li class="dropdown-item"><!----> <a href="/Go/go_6.html" class="nav-link">
  Golang使用Protobuf 
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><span class="title">Linux</span> <span class="arrow down"></span></button> <button type="button" aria-label="Linux" class="mobile-dropdown-title"><span class="title">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Linux/linux_1.html" class="nav-link">
  虚拟机3种网络模式
</a></li><li class="dropdown-item"><!----> <a href="/Linux/linux_2.html" class="nav-link">
  linux常用命令总结
</a></li><li class="dropdown-item"><!----> <a href="/Linux/linux_3.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  centos7部署FastDFS
</a></li><li class="dropdown-item"><!----> <a href="/Linux/linux_4.html" class="nav-link">
  centos7中根据文件大小排序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Docker" class="dropdown-title"><span class="title">Docker</span> <span class="arrow down"></span></button> <button type="button" aria-label="Docker" class="mobile-dropdown-title"><span class="title">Docker</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Docker/docker_1.html" class="nav-link">
  Docker(一)：Docker入门教程
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_2.html" class="nav-link">
  Docker(二)：Dockerfile使用介绍
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_3.html" class="nav-link">
  Docker(三)：Dockerfile命令详解
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_4.html" class="nav-link">
  Docker(四)：Docker三剑客之Docker Compose
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_5.html" class="nav-link">
  Docker(五)：Docker三剑客之Docker Machine
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_6.html" class="nav-link">
  Docker(六)：Docker三剑客之Docker Swarm
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_7.html" class="nav-link">
  Docker安装MariaDB
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_9.html" class="nav-link">
  Docker安装Mysql8
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_8.html" class="nav-link">
  Docker安装Redis
</a></li><li class="dropdown-item"><!----> <a href="/Docker/docker_10.html" class="nav-link">
  Docker安装Nacos
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="K8s" class="dropdown-title"><span class="title">K8s</span> <span class="arrow down"></span></button> <button type="button" aria-label="K8s" class="mobile-dropdown-title"><span class="title">K8s</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/K8s/k8s_1.html" class="nav-link">
  VirtualBox + centos7部署k8s
</a></li><li class="dropdown-item"><!----> <a href="/K8s/k8s_2.html" class="nav-link">
  kubectl常用命令
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Nginx" class="dropdown-title"><span class="title">Nginx</span> <span class="arrow down"></span></button> <button type="button" aria-label="Nginx" class="mobile-dropdown-title"><span class="title">Nginx</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/OpenResty/nginx.html" class="nav-link">
  Nginx 配置详解
</a></li><li class="dropdown-item"><!----> <a href="/OpenResty/nginx_2.html" class="nav-link">
  Nginx 常用命令
</a></li><li class="dropdown-item"><!----> <a href="/OpenResty/openresty_1.html" class="nav-link">
  OpenResty 使用介绍
</a></li><li class="dropdown-item"><!----> <a href="/OpenResty/openresty_2.html" class="nav-link">
  OpenResty(Nginx+Lua)测试用例
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Jenkins" class="dropdown-title"><span class="title">Jenkins</span> <span class="arrow down"></span></button> <button type="button" aria-label="Jenkins" class="mobile-dropdown-title"><span class="title">Jenkins</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Jenkins/jenkins_1.html" class="nav-link">
  快速安装Jenkins完美教程
</a></li><li class="dropdown-item"><!----> <a href="/Jenkins/jenkins_2.html" class="nav-link">
  Docker jenkins配置NPM
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><span class="title">其它</span> <span class="arrow down"></span></button> <button type="button" aria-label="其它" class="mobile-dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Other/2019.1.2.html" class="nav-link">
  Vuepress搭建静态博客
</a></li><li class="dropdown-item"><!----> <a href="/Other/markdown.html" class="nav-link">
  Markdown基本语法
</a></li></ul></div></div><div class="nav-item"><a href="/Readme/index.html" class="nav-link">
  关于我
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="centos7部署fastdfs"><a href="#centos7部署fastdfs" class="header-anchor">#</a> centos7部署FastDFS</h1> <h2 id="fastdfs角色简介"><a href="#fastdfs角色简介" class="header-anchor">#</a> FastDFS角色简介</h2> <p>tracker:跟踪者，负责调度存储服务。
storage:用于文件存储。
client:调用tracker</p> <h2 id="fastdfs单节点安装"><a href="#fastdfs单节点安装" class="header-anchor">#</a> FastDFS单节点安装</h2> <h3 id="第一步-安装相关工具"><a href="#第一步-安装相关工具" class="header-anchor">#</a> 第一步 安装相关工具</h3> <p>如果已经安装vim与wget可以跳过这一步</p> <div class="language- extra-class"><pre class="language-text"><code>yum -y install  vim wget unzip
</code></pre></div><p>-y ：不经过询问直接同意所有操作</p> <p>vim ： linux上面一个好的文本编辑软件</p> <p>wget ： linux上传一个文件下载工具</p> <h3 id="第二步-安装相关依赖"><a href="#第二步-安装相关依赖" class="header-anchor">#</a> 第二步 安装相关依赖</h3> <div class="language- extra-class"><pre class="language-text"><code>yum install -y gcc-c++ perl
</code></pre></div><h3 id="第三步-安装libfastcommon"><a href="#第三步-安装libfastcommon" class="header-anchor">#</a> 第三步 安装libfastcommon</h3> <p>大家可以直接到github上面找的到ibfastcommon。这里为了大家方便查找。我已经把把链接给大家整理好了。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/happyfish100/libfastcommon
</code></pre></div><p>这里大家可以先下载到本地，然后再传至服务器上面。这里我使用的是xftp。具体操不在这里就不相信说了。
下载下来的是zip格式压缩包，然后，我们解压zip</p> <div class="language- extra-class"><pre class="language-text"><code>unzip libfastcommon-master.zip
</code></pre></div><p>进入到刚刚解压的文件里面</p> <div class="language- extra-class"><pre class="language-text"><code>cd libfastcommon-master/
</code></pre></div><p>进行编译安装</p> <div class="language- extra-class"><pre class="language-text"><code>./make.sh &amp;&amp; ./make.sh install
</code></pre></div><h3 id="第四步-安装fastdfs"><a href="#第四步-安装fastdfs" class="header-anchor">#</a> 第四步 安装FastDFS</h3> <p>同样这里我用的也是github上面的FastDFS。为此，我已经帮大家把相关的链接整理到下方了</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/happyfish100/fastdfs
</code></pre></div><p>这里可以使用像上面ibfastcommon一样的方式，先下载到自己的电脑上面，再上传至服务器。
下面我们先进行解压</p> <div class="language- extra-class"><pre class="language-text"><code>unzip fastdfs-master.zip
</code></pre></div><p>编译安装</p> <div class="language- extra-class"><pre class="language-text"><code>./make.sh &amp;&amp; ./make.sh install
</code></pre></div><h3 id="第五步-修改配置文件"><a href="#第五步-修改配置文件" class="header-anchor">#</a> 第五步 修改配置文件</h3> <p>切换到配置文件目录下</p> <div class="language- extra-class"><pre class="language-text"><code>cd /etc/fdfs/
</code></pre></div><p>查看所有配置文件</p> <p>使用ls命令就行了</p> <p>去除所有的.sample后缀</p> <div class="language- extra-class"><pre class="language-text"><code>mv client.conf.sample client.conf
mv storage.conf.sample storage.conf
mv storage_ids.conf.sample storage_ids.conf
mv tracker.conf.sample tracker.conf
</code></pre></div><p>我们再次使用ls命令查看</p> <p>可以看到我们已经去除了所有的.sample后缀</p> <p>下一步，创建文件夹，分别创建client，storage，tracker文件夹</p> <div class="language- extra-class"><pre class="language-text"><code>mkdir -p /home/software/fastfdfs/fdfa/client
mkdir -p /home/software/fastfdfs/fdfa/storage
mkdir -p /home/software/fastfdfs/fdfa/tracker
</code></pre></div><h4 id="下面我们开始配置文件修改-首先修改的是clietn-conf-使用vim编辑器进行文件的编辑"><a href="#下面我们开始配置文件修改-首先修改的是clietn-conf-使用vim编辑器进行文件的编辑" class="header-anchor">#</a> 下面我们开始配置文件修改，首先修改的是clietn.conf,使用vim编辑器进行文件的编辑</h4> <div class="language- extra-class"><pre class="language-text"><code>vim client.conf
</code></pre></div><p>使用 <code>:set number</code> 显示行数</p> <p>修改第十行，确定日志文件文件日志，这里用我们刚刚创建client文件夹路径</p> <div class="language- extra-class"><pre class="language-text"><code>base_path=/home/software/fastfdfs/fdfa/client
</code></pre></div><p>修改第14 行，tracker的地址与端口，这里我使用的是虚拟机，而且我的tracker等会和我的storage在同一台服务器启动，我的是192.168.223.19。大家这里根据实际情况修改</p> <div class="language- extra-class"><pre class="language-text"><code>tracker_server=192.168.223.19:22122
</code></pre></div><p>这里大家大家记得保存修改</p> <h4 id="下面我们修改storage-conf。同上是用vim进行修改"><a href="#下面我们修改storage-conf。同上是用vim进行修改" class="header-anchor">#</a> 下面我们修改storage.conf。同上是用vim进行修改</h4> <p>修改第41行 storage基础路径，上面我们已经创建了这个目录</p> <div class="language- extra-class"><pre class="language-text"><code>base_path=/home/software/fastfdfs/fdfa/storage
</code></pre></div><p>修改第110行，storage路径。storage.conf已经说了如果这个路径不存在，会依照base_path.为了不出意外，我们配置一下这个路径</p> <div class="language- extra-class"><pre class="language-text"><code> store_path0=/home/software/fastfdfs/fdfa/storage
</code></pre></div><p>修改第119行 ，配置tracker的IP地址与端口。至于如何填写这个地址，上面配置client.conf的时候，我们就已经说过了。</p> <div class="language- extra-class"><pre class="language-text"><code>tracker_server=192.168.223.19:22122
</code></pre></div><h4 id="现在修改tracker-conf文件"><a href="#现在修改tracker-conf文件" class="header-anchor">#</a> 现在修改tracker.conf文件</h4> <p>修改第22行，修改tracker的基础路径。这个路径的文件夹我们刚刚在上面已经创建过了</p> <div class="language- extra-class"><pre class="language-text"><code>base_path=/home/software/fastfdfs/fdfa/tracker
</code></pre></div><p>修改第54行 归属组设置</p> <div class="language- extra-class"><pre class="language-text"><code>store_group=group1
</code></pre></div><h3 id="第六步-启动tracker与storage"><a href="#第六步-启动tracker与storage" class="header-anchor">#</a> 第六步 启动tracker与storage</h3> <p>启动tracker</p> <div class="language- extra-class"><pre class="language-text"><code>fdfs_trackerd /etc/fdfs/tracker.conf start
</code></pre></div><p>启动storage</p> <div class="language- extra-class"><pre class="language-text"><code>fdfs_storaged /etc/fdfs/storage.conf start
</code></pre></div><p>测试是否启动成功，我们尝试上传文件。我的root文件夹下有一张图片</p> <div class="language- extra-class"><pre class="language-text"><code>fdfs_test /etc/fdfs/client.conf upload  /root/fastdfs/Screenshot_1.png
</code></pre></div><h3 id="第七步-安装nginx访问图片"><a href="#第七步-安装nginx访问图片" class="header-anchor">#</a> 第七步 安装nginx访问图片</h3> <p>我这里单独再说一下nginx的安装。</p> <p>首先安装依赖</p> <div class="language- extra-class"><pre class="language-text"><code>yum -y install gcc-c++ zlib-devel pcre-devel
</code></pre></div><p>下载nginx安装包</p> <div class="language- extra-class"><pre class="language-text"><code>wget http://nginx.org/download/nginx-1.14.0.tar.gz
</code></pre></div><p>解压安装包</p> <div class="language- extra-class"><pre class="language-text"><code>tar zxvf nginx-1.14.0.tar.gz
</code></pre></div><p>下载nginx的fastdfs模块，这里我已经帮大家把这个项目github地址整理好了。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/happyfish100/fastdfs-nginx-module
</code></pre></div><p>这里我们可以先下载到自己电脑上，再上传服务器。</p> <p>进行解压</p> <div class="language- extra-class"><pre class="language-text"><code>unzip fastdfs-nginx-module-master.zip
</code></pre></div><p>创建nginx安装目录</p> <div class="language- extra-class"><pre class="language-text"><code>mkdir -p /home/software/nginx
</code></pre></div><p>切换到nginx压缩包的解压目录里面去</p> <div class="language- extra-class"><pre class="language-text"><code>cd nginx-1.14.0
</code></pre></div><p>进行配置检测并且添加模块</p> <div class="language- extra-class"><pre class="language-text"><code>./configure --prefix=/home/software/nginx --add-module=/home/software/fastdfs-nginx-module-master/src
--prefix : 我们刚刚创建的nginx的安装目录
--add-module：解压后模块所在目录，记得要加上src
</code></pre></div><p>成功</p> <p>编译并安装</p> <div class="language- extra-class"><pre class="language-text"><code>make &amp;&amp; make install
</code></pre></div><p>复制配置文件至<code>/etc/fdfs</code>里面去</p> <p>切换至fastdfs的解压包里面去</p> <div class="language- extra-class"><pre class="language-text"><code>cd /home/software/fastfdfs/fastdfs-master
</code></pre></div><p>进行文件的复制</p> <div class="language- extra-class"><pre class="language-text"><code>cp conf/http.conf /etc/fdfs/
cp conf/mime.types /etc/fdfs/
</code></pre></div><p>切换至fastdfs-nginx-module的解压目录下面</p> <div class="language- extra-class"><pre class="language-text"><code>cd /home/software/fastdfs-nginx-module-master
</code></pre></div><p>进行配置文件的复制</p> <div class="language- extra-class"><pre class="language-text"><code>cp src/mod_fastdfs.conf /etc/fdfs/
</code></pre></div><p>修改<code>/etc/fdfs</code>下面的<code>mod_fastdfs.conf</code>配置文件</p> <div class="language- extra-class"><pre class="language-text"><code>vim /etc/fdfs/mod_fastdfs.conf
</code></pre></div><p>修改 40行，更改tracker的ip地址与端口</p> <div class="language- extra-class"><pre class="language-text"><code>tracker_server=192.168.223.19:22122
</code></pre></div><p>修改53行 url地址中是否包含组名</p> <div class="language- extra-class"><pre class="language-text"><code>url_have_group_name = true
</code></pre></div><p>修改62行 storage所在目录</p> <div class="language- extra-class"><pre class="language-text"><code>store_path0=/home/software/fastfdfs/fdfa/storage
</code></pre></div><p>保存修改</p> <p>进行nginx配置文件的修改，首先切换到nginx的安装目录下面</p> <div class="language- extra-class"><pre class="language-text"><code>cd /home/software/nginx
</code></pre></div><p>进行nginx.conf的修改，找到44行，注释掉44 45行，下面添加一行</p> <div class="language- extra-class"><pre class="language-text"><code>ngx_fastdfs_module;
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>location / {
     #root html;
     #index index.html index.htm;
     ngx_fastdfs_module;
}
</code></pre></div><p>启动nginx，切换到nginx安装目录下的sbin目录下面去，先进行配置文件的检验。如果配置检验没问题。再启动nginx</p> <p>切换到sbin目录</p> <div class="language- extra-class"><pre class="language-text"><code>cd /home/software/nginx/sbin/
</code></pre></div><p>配置文件检测</p> <div class="language- extra-class"><pre class="language-text"><code>./nginx -t -c /home/software/nginx/conf/nginx.conf
</code></pre></div><p>显示 is ok没有任何问题，现在启动nginx</p> <div class="language- extra-class"><pre class="language-text"><code>./nginx
</code></pre></div><p>依照上面的方式，我们上传一张图片。并进行访问</p> <h2 id="fastdfs多节点安装"><a href="#fastdfs多节点安装" class="header-anchor">#</a> FastDFS多节点安装</h2> <h3 id="第一步-规定storage与tracker服务器"><a href="#第一步-规定storage与tracker服务器" class="header-anchor">#</a> 第一步 规定storage与tracker服务器</h3> <p>这里我用的是虚拟机，我这里在四台虚拟机上面都安装了单节点的fastdfs。我的四台虚拟机的ip如下。</p> <div class="language- extra-class"><pre class="language-text"><code>192.168.223.15
192.168.223.16
192.168.223.17
192.168.223.18

192.168.223.15 所属组：group1 角色：storage，tracker1
192.168.223.16 所属组：group1 角色：storage
192.168.223.17 所属组：group2 角色：storage，tracker2
192.168.223.18 所属组：group2 角色：storage
</code></pre></div><h3 id="第二步-修改配置文件"><a href="#第二步-修改配置文件" class="header-anchor">#</a> 第二步 修改配置文件</h3> <p>由于FastDFS单节点使用的组都是group1.所以192.168.223.15这台机器上的配置不需要做任意修改。所以我们需要修改的地方其实是其他三台服务器。下面我会逐个说明如何改。</p> <p>首先我们需要改的是192.168.223.16。由上面的分配我们可以知道。他们都是group1，所以我们只需要把tracker的ip指向192.168.223.15 详细的修改如下。首先我们需要进入到192.168.223.16的/etc/fdfs的目录下面。这一步我们做了很多遍。这里就不演示了。接下来进行文件的修改</p> <p>修改client.conf 第14行</p> <div class="language- extra-class"><pre class="language-text"><code>tracker_server=192.168.223.15:22122
</code></pre></div><p>修改 storage.conf 第119行</p> <div class="language- extra-class"><pre class="language-text"><code>tracker_server=192.168.223.15:22122
</code></pre></div><p>修改 mod_fastdfs.conf 第40行</p> <div class="language- extra-class"><pre class="language-text"><code>tracker_server=192.168.223.15:22122
</code></pre></div><p>接下修改的 192.168.223.17这个服务器。由上面的分配来看，它的归属组是group2。它的tracker是192.168.223.17。现在我们开始修改</p> <p>修改client.conf 第14行</p> <div class="language- extra-class"><pre class="language-text"><code>tracker_server=192.168.223.17:22122
</code></pre></div><p>修改 storage.conf 第11行</p> <div class="language- extra-class"><pre class="language-text"><code>group_name=group2
</code></pre></div><p>修改第 119行</p> <div class="language- extra-class"><pre class="language-text"><code>tracker_server=192.168.223.17:22122
</code></pre></div><p>修改 mod_fastdfs.conf 第40行</p> <div class="language- extra-class"><pre class="language-text"><code>tracker_server=192.168.223.17:22122
</code></pre></div><p>修改第 47行</p> <div class="language- extra-class"><pre class="language-text"><code>group_name=group2
</code></pre></div><p>ip为192.168.223.18 像 192.168.223.17一样修改。这样我们就完成了所有配置文件的修改</p> <h3 id="第三步-关闭-重启服务"><a href="#第三步-关闭-重启服务" class="header-anchor">#</a> 第三步 关闭，重启服务</h3> <p>首先我们关闭所有服务器的storage服务，tracker服务。首先查找进程然后关闭</p> <div class="language- extra-class"><pre class="language-text"><code>ps -ef | grep fdfs
</code></pre></div><p>root后面的字段就是pid。由上面可以知道。我们的两个pid是53946,53967,现在我们把这两个进程kill掉</p> <div class="language- extra-class"><pre class="language-text"><code>kill -9 53946
kill -9 53967
</code></pre></div><p>其他三台服务器也是这样做。</p> <p>现在按照单节的方式启动。记住不是所有的服务器都要启动。storage与tracker。</p> <div class="language- extra-class"><pre class="language-text"><code>192.168.223.15 启动storage与tracker
192.168.223.16 启动storage
192.168.223.17 启动storage与tracker
192.168.223.18 启动storage
</code></pre></div><p>重启nginx服务，启动方式，先进入到nginx安装目录下的sbin目录，执行重启命令</p> <div class="language- extra-class"><pre class="language-text"><code>./nginx -s reload
</code></pre></div><h3 id="第四步-测试"><a href="#第四步-测试" class="header-anchor">#</a> 第四步 测试</h3> <p>我们在192.168.223.16 上传一张图片，然后用192.168.223.15的ip访问。因为同一个组的storage会进行文件同步</p> <p>这里可以看到上传后得到的url是192.168.223.15服务器上面的。我们用ip 192.168.223.16 与 192.168.223.15 都访问一遍</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2cd84a3f.js" defer></script><script src="/assets/js/2.63c13255.js" defer></script><script src="/assets/js/35.56b8ae56.js" defer></script>
  </body>
</html>
