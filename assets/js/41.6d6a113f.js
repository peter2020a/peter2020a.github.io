(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{317:function(e,a,n){"use strict";n.r(a);var t=n(13),s=Object(t.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"使用基于vue-js驱动的vuepress搭建静态博客"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用基于vue-js驱动的vuepress搭建静态博客"}},[e._v("#")]),e._v(" 使用基于Vue.js驱动的Vuepress搭建静态博客")]),e._v(" "),a("h2",{attrs:{id:"介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[e._v("#")]),e._v(" 介绍")]),e._v(" "),a("p",[e._v("VuePress 由两部分组成：一个以 Vue 驱动的主题系统的简约静态网站生成工具，和一个为编写技术文档而优化的默认主题。它是为了支持 Vue 子项目的文档需求而创建的。")]),e._v(" "),a("p",[e._v("由 VuePress 生成的每个页面，都具有相应的预渲染静态 HTML，它们能提供出色的加载性能，并且对 SEO 友好。然而，页面加载之后，Vue 就会将这些静态内容，接管为完整的单页面应用程序(SPA)。当用户在浏览站点时，可以按需加载其他页面。"),a("br"),e._v("\nVuePress 网站实际上是由 Vue, Vue Router 和 webpack 驱动的单页面应用程序。")]),e._v(" "),a("h3",{attrs:{id:"类似的生成框架"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#类似的生成框架"}},[e._v("#")]),e._v(" 类似的生成框架")]),e._v(" "),a("p",[e._v("React驱动"),a("a",{attrs:{href:"https://www.gatsbyjs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("GatsbyJs"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("Vue.js驱动"),a("a",{attrs:{href:"https://gridsome.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gridsome"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"开始"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开始"}},[e._v("#")]),e._v(" 开始")]),e._v(" "),a("h3",{attrs:{id:"初始化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化"}},[e._v("#")]),e._v(" 初始化")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("// 在github上新建一个仓库，并克隆到本地\ngit clone https://github.com/18518300669/JackTeslaBlog.git\n\n// 进入项目\ncd JackTeslaBlog\n\n//npm 初始化, 按照提示回车\nnpm init\n\n//安装 vuepress\nnpm i vuepress -D\n\n//安装 gh-pages\nnpm i gh-pages -D\n\n//创建一个 docs 目录\nmkdir docs\n\n//创建一个 markdown 文件\necho '# Hello VuePress' > docs/README.md\n")])])]),a("h3",{attrs:{id:"npm-脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm-脚本"}},[e._v("#")]),e._v(" npm 脚本")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "scripts": {\n    "dev": "vuepress dev docs",\n    "build": "vuepress build docs",\n    "deploy": "npm run build && gh-pages -d docs/.vuepress/dist"\n  }\n}\n')])])]),a("h3",{attrs:{id:"运行本地开发环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行本地开发环境"}},[e._v("#")]),e._v(" 运行本地开发环境")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("npm run dev\n")])])]),a("p",[e._v("访问 localhost:8080 ， 已经成功开启")]),e._v(" "),a("h3",{attrs:{id:"生成静态资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生成静态资源"}},[e._v("#")]),e._v(" 生成静态资源")]),e._v(" "),a("p",[e._v("执行下面的命令，生成静态资源.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("npm run build\n")])])]),a("p",[e._v("默认情况下，构建的文件会位于 docs/.vuepress/dist 中，该文件可以通过 docs/.vuepress/config.js 中的 dest 字段进行配置。")]),e._v(" "),a("h3",{attrs:{id:"公共文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#公共文件"}},[e._v("#")]),e._v(" 公共文件")]),e._v(" "),a("p",[e._v("创建 docs/.vuepress/public 用于存放公共文件"),a("br"),e._v("\n我放了一个首页的umbrella.jpeg")]),e._v(" "),a("h3",{attrs:{id:"首页编写"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#首页编写"}},[e._v("#")]),e._v(" 首页编写")]),e._v(" "),a("p",[e._v("docs/README.md为首页， 修改代码为：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("---\nhome: true\nheroImage: /umbrella.jpeg\nfooter: 世界再大，大不过你的好奇心呐～\n---\n")])])]),a("h3",{attrs:{id:"目录结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[e._v("#")]),e._v(" 目录结构")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(".\n├─ docs\n│  ├─ README.md\t       //主页\n│  └─ .vuepress\n│  │  └─ components    //全局vue模版\n│  │  └─ dist          //构建产生目录\n│  │  └─ public        //存放静态文件\n│  │  └─ config.js\t   //配置\n│  └─ React            //一级目录\n│  └─ Stack            //一级目录\n│  └─ ...              //一级目录\n└─ package.json\n")])])]),a("h2",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[e._v("#")]),e._v(" 配置")]),e._v(" "),a("h3",{attrs:{id:"基础配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础配置"}},[e._v("#")]),e._v(" 基础配置")]),e._v(" "),a("p",[e._v("创建 docs/.vuepress/config.js， 并进行简单配置")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("var config = {\n    head: [\n        ['link', { rel: 'icon', href: '/favicon.ico' }]\n      ],\n      \n    // 静态网站部署的目录\n    base: '/JackTesla/',\n    \n    // 网站标题\n    title: 'JackTesla 的博客',\n  \n    // <meta name=\"description\" content=\"...\">\n    description: '最精彩的，其实就是世界本身！', \n  \n    markdown: {//markdown配置项\n      \n      // 显示代码行号\n      lineNumbers: true\n    },\n    themeConfig: {\n\n        // 项目的 github 地址\n        repo: 'https://github.com/18518300669/JackTeslaBlog.git',\n    \n        // github 地址的链接名\n        repoLabel: 'gitHub',\n    \n        // 配置导航栏\n        nav,\n        sidebar\n      },\n  }\n  \n  module.exports = config\n  \n")])])]),a("p",[a("a",{attrs:{href:"https://www.vuepress.cn/config/#%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE-basic-config",target:"_blank",rel:"noopener noreferrer"}},[e._v("更多配置项"),a("OutboundLink")],1)]),e._v(" "),a("h3",{attrs:{id:"头部导航栏配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#头部导航栏配置"}},[e._v("#")]),e._v(" 头部导航栏配置")]),e._v(" "),a("p",[e._v("使用默认主题配置导航栏")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("//.vuepress/config.js：\nconst nav = [\n     {\n        text: '技术篇',\n        items: [\n          { text: 'Blog', link: '/Stack/2019.1.2'},\n          { text: 'React', link: '/React/router' },\n        ]\n      },\n      {\n        text: '关于作者',\n        link: '/Readme/index'\n      },\n  ]\n  \n//在config的themeConfig中配置\nconst config = {\n...\n  themeConfig: {\n\t...\n    // 配置导航栏\n    nav,\n  },\n}\n")])])]),a("h3",{attrs:{id:"侧边导航栏配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#侧边导航栏配置"}},[e._v("#")]),e._v(" 侧边导航栏配置")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("//.vuepress/config.js：\nconst sidebar = {\n    '/Stack/': [\n        {\n            title: '博客',\n            children: [\n                '2019.1.2'\n            ]\n        },\n       \n    ],\n    '/React/': [\n        {\n            title: 'React',\n            children: [\n                'router',\n                'reactRedux',\n            ]\n        },\n    ]\n}\n//在config的themeConfig中配置\nconst config = {\n...\n  themeConfig: {\n\t...\n    // 配置导航栏\n    sidebar,\n  },\n}\n")])])]),a("h2",{attrs:{id:"评论功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#评论功能"}},[e._v("#")]),e._v(" 评论功能")]),e._v(" "),a("p",[e._v("我们使用 valine 来实现评论功能：")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Valine")]),e._v(" "),a("p",[e._v("一款快速、简洁且高效的无后端评论系统。")])]),e._v(" "),a("p",[e._v("请先登录官网"),a("a",{attrs:{href:"https://valine.js.org/quickstart.html",target:"_blank",rel:"noopener noreferrer"}},[e._v(" Valine官网"),a("OutboundLink")],1),e._v("，注册后食用。获取APP ID 和 APP Key")]),e._v(" "),a("h3",{attrs:{id:"安装-valine"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-valine"}},[e._v("#")]),e._v(" 安装 Valine")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("//Install leancloud's js-sdk\nnpm install leancloud-storage --save\n\n//Install valine\nnpm install valine --save\n")])])]),a("h3",{attrs:{id:"注册-vuepress-全局组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注册-vuepress-全局组件"}},[e._v("#")]),e._v(" 注册 vuepress 全局组件")]),e._v(" "),a("p",[e._v("创建 .vuepress/components/Valine.vue")]),e._v(" "),a("p",[e._v("(在components下注册的vue可供全局使用，文件名为组件名）")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("<template>\n  <div> \n    <div id=\"vcomments\"></div>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: 'Valine',\n  mounted: function(){\n    // require window \n    const Valine = require('valine');\n    if (typeof window !== 'undefined') {\n      this.window = window\n      window.AV = require('leancloud-storage')\n      \n    }\n     \n    new Valine({\n      el: '#vcomments' ,\n      appId: 'R1Qyeuv2BEooSWSVB2HmJyB7-gzGzoHsz',// your appId\n      appKey: 'GGneEbK7wGIhef7CVnUScHH7', // your appKey\n      notify:false, \n      verify:false, \n      avatar:'mm', \n      placeholder: 'Please enter comments！' ,\n      path:window.location.pathname,//配置path地址，否则评论混乱\n    });\n  },\n}\n<\/script>\n<style>\n#vcomments{\n  margin-top:100px;\n}\n</style>\n")])])]),a("h3",{attrs:{id:"使用-valine"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-valine"}},[e._v("#")]),e._v(" 使用 Valine")]),e._v(" "),a("p",[e._v("只需要在 markdown 中调用即可")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("<Valine></Valine>\n")])])]),a("h2",{attrs:{id:"部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[e._v("#")]),e._v(" 部署")]),e._v(" "),a("p",[e._v("使用 gh-pages 进行项目部署")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("npm run deploy\n")])])]),a("p",[e._v("过几分钟后，访问 "),a("a",{attrs:{href:"https://18518300669.github.io/JackTeslaBlog/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://18518300669.github.io/JackTeslaBlog/"),a("OutboundLink")],1),e._v("， 便可以看到在外网成功部署的静态博客")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://www.vuepress.cn/guide/deploy.html#github-%E9%A1%B5%E9%9D%A2",target:"_blank",rel:"noopener noreferrer"}},[e._v("VuePreaa官方提供的部署方法"),a("OutboundLink")],1)]),e._v(" "),a("hr"),e._v(" "),a("p",[a("a",{attrs:{href:"https://www.vuepress.cn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vuepress官网"),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://valine.js.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Valine官网"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=s.exports}}]);